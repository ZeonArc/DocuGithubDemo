{
    "name": "DocuGithub 2: Generate",
    "nodes": [
        {
            "parameters": {
                "httpMethod": "POST",
                "path": "webhook/generate",
                "options": {}
            },
            "id": "webhook-generate",
            "name": "Webhook: Generate",
            "type": "n8n-nodes-base.webhook",
            "typeVersion": 1,
            "position": [
                460,
                340
            ]
        },
        {
            "parameters": {
                "operation": "get",
                "table": "documentation_sessions",
                "id": "={{ $json.body.sessionId }}"
            },
            "id": "supabase-get-context",
            "name": "Supabase: Get Context",
            "type": "n8n-nodes-base.supabase",
            "typeVersion": 1,
            "position": [
                680,
                340
            ]
        },
        {
            "parameters": {
                "modelId": "models/gemini-1.5-pro",
                "prompt": "=Using the following analysis summary, generate a complete README.md.\n\nSummary:\n{{ $json.analysis_summary }}\n\nUser Config:\nStyle: {{ $json.config.style }}\nTopics: {{ $json.config.topics }}\n\nOutput only Markdown."
            },
            "id": "gemini-generate",
            "name": "Gemini: Generate",
            "type": "n8n-nodes-base.googleGemini",
            "typeVersion": 1,
            "position": [
                900,
                340
            ]
        },
        {
            "parameters": {
                "table": "documentation_sessions",
                "updateKey": "id",
                "columns": "final_markdown, status",
                "value": "={{ $json.text }}, generated"
            },
            "id": "supabase-save-doc",
            "name": "Supabase: Save Doc",
            "type": "n8n-nodes-base.supabase",
            "typeVersion": 1,
            "position": [
                1120,
                340
            ]
        },
        {
            "parameters": {
                "respondWith": "json",
                "responseBody": "={ \"markdown\": \"{{ $json.text }}\" }"
            },
            "id": "respond-generate",
            "name": "Respond",
            "type": "n8n-nodes-base.respondToWebhook",
            "typeVersion": 1,
            "position": [
                1340,
                340
            ]
        }
    ]
}