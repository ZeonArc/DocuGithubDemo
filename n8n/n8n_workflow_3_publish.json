{
    "name": "DocuGithub 3: Publish (Enhanced)",
    "nodes": [
        {
            "parameters": {
                "httpMethod": "POST",
                "path": "webhook/publish",
                "options": {}
            },
            "id": "webhook-publish",
            "name": "Webhook: Publish",
            "type": "n8n-nodes-base.webhook",
            "typeVersion": 1,
            "position": [
                460,
                340
            ]
        },
        {
            "parameters": {
                "resource": "file",
                "operation": "create",
                "owner": "={{ $json.body.owner }}",
                "repository": "={{ $json.body.repo }}",
                "filePath": "README.md",
                "fileContent": "={{ $json.body.content }}",
                "commitMessage": "docs: update README.md via DocuGithub",
                "authentication": "genericCredentialType",
                "genericAuthType": "httpHeaderAuth"
            },
            "id": "github-create-file",
            "name": "GitHub: Update File",
            "type": "n8n-nodes-base.github",
            "typeVersion": 1,
            "position": [
                680,
                340
            ],
            "credentials": {
                "httpHeaderAuth": {
                    "id": "YOUR_GITHUB_CREDENTIALS",
                    "name": "GitHub Token"
                }
            }
        },
        {
            "parameters": {
                "table": "documentation_sessions",
                "updateKey": "id",
                "columns": "status",
                "value": "published"
            },
            "id": "supabase-update-published",
            "name": "Supabase: Published",
            "type": "n8n-nodes-base.supabase",
            "typeVersion": 1,
            "position": [
                900,
                340
            ]
        },
        {
            "parameters": {
                "respondWith": "json",
                "responseBody": "{ \"success\": true, \"message\": \"Documentation successfully pushed to main branch.\" }"
            },
            "id": "respond-publish",
            "name": "Respond",
            "type": "n8n-nodes-base.respondToWebhook",
            "typeVersion": 1,
            "position": [
                1120,
                340
            ]
        }
    ]
}